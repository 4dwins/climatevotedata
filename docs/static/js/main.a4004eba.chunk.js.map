{"version":3,"sources":["index.js"],"names":["defaultColumnProperties","sortable","width","columnMap","index","name","sortDescendingFirst","preferred_name","state","filterable","electorate","votes","Party","Swing","Margin","Vote_diff","Participation","Grid","useState","data","rows","setRows","columns","schema","fields","map","i","key","rowGetter","rowsCount","length","enableCellSelect","minHeight","onGridSort","sortColumn","sortDirection","initialRows","sort","a","b","console","log","sortRows","rootElement","document","getElementById","ReactDOM","render","className","href"],"mappings":"k70BAMMA,G,MAA0B,CAC9BC,UAAU,EACVC,MAAO,MAGHC,EAAY,CAChBC,MAAO,CACLC,KAAM,QACNH,MAAO,GACPI,qBAAqB,GAEvBC,eAAgB,CACdF,KAAM,OACNJ,UAAU,EACVC,MAAO,KAETM,MAAO,CACLH,KAAM,QACNJ,UAAU,EACVQ,YAAY,EACZP,MAAO,IAETQ,WAAY,CACVL,KAAM,cAERM,MAAO,CACLN,KAAM,QACNJ,UAAU,GAEZW,MAAO,CACLP,KAAM,QACNJ,UAAU,EACVQ,YAAY,GAEdI,MAAO,CACLR,KAAM,YACNJ,UAAU,GAEZa,OAAQ,CACNT,KAAM,aACNJ,UAAU,GAEZc,UAAW,CACTV,KAAM,cACNJ,UAAU,GAEZe,cAAe,CACbX,KAAM,oBACNJ,UAAU,IAwBRgB,EAAO,WAAO,IAAD,EACOC,mBAASC,EAAKA,MADrB,mBACVC,EADU,KACJC,EADI,KAEXC,EAAqBH,EArBzBI,OAAOC,OAAOC,KAAI,SAAAC,GAAC,oBACnBC,IAAKD,EAAC,MACH1B,EAFgB,GAGhBG,EAAUuB,EAAC,UAoBhB,OACE,kBAAC,IAAD,CACEJ,QAASA,EACTM,UAAW,SAAAF,GAAC,OAAIN,EAAKM,IACrBG,UAAWT,EAAKU,OAChBC,kBAAkB,EAClBC,UAAW,IACXC,WAAY,SAACC,EAAYC,GAAb,OACVd,EAzBS,SAACe,EAAaF,EAAYC,GAA1B,OAA4C,SAAAf,GAU3D,MAAyB,SAAlBe,EAA2BC,EAAc,YAAIhB,GAAMiB,MATzC,SAACC,EAAGC,GAEnB,OADAC,QAAQC,IAAIN,EAAeD,EAAYI,EAAEJ,GAAaK,EAAEL,IAClC,QAAlBC,EACKG,EAAEJ,GAAcK,EAAEL,GAAc,GAAK,EACjB,SAAlBC,EACFG,EAAEJ,GAAcK,EAAEL,GAAc,GAAK,OADvC,MAoBKQ,CAASvB,EAAKA,KAAMe,EAAYC,QAkB1CQ,EAAcC,SAASC,eAAe,QAC5CC,IAASC,OAAO,mBAbJ,kBACV,yBAAKC,UAAU,OACb,mDACA,sFAEE,uBAAGC,KAAK,6CAAR,QAFF,MAGE,uBAAGA,KAAK,8BAAR,WAHF,KAKA,kBAAChC,EAAD,SAKY,MAAS0B,K","file":"static/js/main.a4004eba.chunk.js","sourcesContent":["import React, { useState } from \"react\"\nimport ReactDOM from \"react-dom\"\nimport ReactDataGrid from \"react-data-grid\"\nimport data from \"./vote_data.json\"\nimport \"./index.css\"\n\nconst defaultColumnProperties = {\n  sortable: false,\n  width: 120,\n}\n\nconst columnMap = {\n  index: {\n    name: \"Index\",\n    width: 80,\n    sortDescendingFirst: true,\n  },\n  preferred_name: {\n    name: \"Name\",\n    sortable: true,\n    width: 230,\n  },\n  state: {\n    name: \"State\",\n    sortable: true,\n    filterable: true,\n    width: 80,\n  },\n  electorate: {\n    name: \"Electorate\",\n  },\n  votes: {\n    name: \"Votes\",\n    sortable: true,\n  },\n  Party: {\n    name: \"Party\",\n    sortable: true,\n    filterable: true,\n  },\n  Swing: {\n    name: \"Swing (%)\",\n    sortable: true,\n  },\n  Margin: {\n    name: \"Margin (%)\",\n    sortable: true,\n  },\n  Vote_diff: {\n    name: \"Vote Margin\",\n    sortable: true,\n  },\n  Participation: {\n    name: \"Participation (%)\",\n    sortable: true,\n  },\n}\n\nconst getColumns = d =>\n  d.schema.fields.map(i => ({\n    key: i[\"name\"],\n    ...defaultColumnProperties,\n    ...columnMap[i[\"name\"]],\n  }))\n\nconst sortRows = (initialRows, sortColumn, sortDirection) => rows => {\n  const comparer = (a, b) => {\n    console.log(sortDirection, sortColumn, a[sortColumn], b[sortColumn])\n    if (sortDirection === \"ASC\") {\n      return a[sortColumn] > b[sortColumn] ? 1 : -1\n    } else if (sortDirection === \"DESC\") {\n      return a[sortColumn] < b[sortColumn] ? 1 : -1\n    }\n  }\n\n  return sortDirection === \"NONE\" ? initialRows : [...rows].sort(comparer)\n}\n\nconst Grid = () => {\n  const [rows, setRows] = useState(data.data)\n  const columns = getColumns(data)\n\n  return (\n    <ReactDataGrid\n      columns={columns}\n      rowGetter={i => rows[i]}\n      rowsCount={rows.length}\n      enableCellSelect={true}\n      minHeight={600}\n      onGridSort={(sortColumn, sortDirection) =>\n        setRows(sortRows(data.data, sortColumn, sortDirection))\n      }\n    />\n  )\n}\n\nconst App = () => (\n  <div className=\"App\">\n    <h2>Climate Action Data</h2>\n    <p>\n      Click column headings to sort. Double click to filter. [\n      <a href=\"https://github.com/4dwins/climatevotedata\">code</a>] [\n      <a href=\"https://twitter.com/4dwins\">@4dwins</a>]\n    </p>\n    <Grid />\n  </div>\n)\n\nconst rootElement = document.getElementById(\"root\")\nReactDOM.render(<App />, rootElement)\n"],"sourceRoot":""}